CREATE TABLE operation_type (
    id VARCHAR(36) PRIMARY KEY,
    name VARCHAR(80) NOT NULL,
    movement_type VARCHAR(30) NOT NULL,
    operation_group_id VARCHAR(36) NOT NULL,
    created_by VARCHAR(36),
    is_global BOOLEAN DEFAULT FALSE,
    operation_type_status VARCHAR(50) NOT NULL DEFAULT 'ACTIVE',
    CONSTRAINT uq_operation_type_user UNIQUE (created_by, name),
    CONSTRAINT fk_operation_type_group FOREIGN KEY (operation_group_id) REFERENCES operation_group(id),
    CONSTRAINT fk_operation_type_user FOREIGN KEY (created_by) REFERENCES users(id)
);

-- Inserções padrão (tipos dentro dos grupos)
INSERT INTO operation_type (id, name, movement_type, group_id, is_global) VALUES
    -- Moradia
    ('00000000-0000-0000-0000-000000000101', 'Aluguel', 'EXPENSE', '00000000-0000-0000-0000-000000000001', TRUE),
    ('00000000-0000-0000-0000-000000000102', 'Condomínio', 'EXPENSE', '00000000-0000-0000-0000-000000000001', TRUE),
    ('00000000-0000-0000-0000-000000000103', 'Conta de luz', 'EXPENSE', '00000000-0000-0000-0000-000000000001', TRUE),
    ('00000000-0000-0000-0000-000000000104', 'Conta de água', 'EXPENSE', '00000000-0000-0000-0000-000000000001', TRUE),
    ('00000000-0000-0000-0000-000000000105', 'Internet', 'EXPENSE', '00000000-0000-0000-0000-000000000001', TRUE),

    -- Alimentação
    ('00000000-0000-0000-0000-000000000201', 'Supermercado', 'EXPENSE', '00000000-0000-0000-0000-000000000002', TRUE),
    ('00000000-0000-0000-0000-000000000202', 'Restaurante', 'EXPENSE', '00000000-0000-0000-0000-000000000002', TRUE),
    ('00000000-0000-0000-0000-000000000203', 'Lanches', 'EXPENSE', '00000000-0000-0000-0000-000000000002', TRUE),

    -- Transporte
    ('00000000-0000-0000-0000-000000000301', 'Combustível', 'EXPENSE', '00000000-0000-0000-0000-000000000003', TRUE),
    ('00000000-0000-0000-0000-000000000302', 'Transporte público', 'EXPENSE', '00000000-0000-0000-0000-000000000003', TRUE),
    ('00000000-0000-0000-0000-000000000303', 'Estacionamento', 'EXPENSE', '00000000-0000-0000-0000-000000000003', TRUE),

    -- Saúde
    ('00000000-0000-0000-0000-000000000401', 'Plano de saúde', 'EXPENSE', '00000000-0000-0000-0000-000000000004', TRUE),
    ('00000000-0000-0000-0000-000000000402', 'Consulta médica', 'EXPENSE', '00000000-0000-0000-0000-000000000004', TRUE),
    ('00000000-0000-0000-0000-000000000403', 'Medicamentos', 'EXPENSE', '00000000-0000-0000-0000-000000000004', TRUE),

    -- Educação
    ('00000000-0000-0000-0000-000000000501', 'Mensalidade escolar', 'EXPENSE', '00000000-0000-0000-0000-000000000005', TRUE),
    ('00000000-0000-0000-0000-000000000502', 'Curso online', 'EXPENSE', '00000000-0000-0000-0000-000000000005', TRUE),
    ('00000000-0000-0000-0000-000000000503', 'Livros e materiais', 'EXPENSE', '00000000-0000-0000-0000-000000000005', TRUE),

    -- Lazer
    ('00000000-0000-0000-0000-000000000601', 'Cinema', 'EXPENSE', '00000000-0000-0000-0000-000000000006', TRUE),
    ('00000000-0000-0000-0000-000000000602', 'Viagem', 'EXPENSE', '00000000-0000-0000-0000-000000000006', TRUE),
    ('00000000-0000-0000-0000-000000000603', 'Assinaturas de streaming', 'EXPENSE', '00000000-0000-0000-0000-000000000006', TRUE),

    -- Investimentos
    ('00000000-0000-0000-0000-000000000701', 'Aportes em ações', 'EXPENSE', '00000000-0000-0000-0000-000000000007', TRUE),
    ('00000000-0000-0000-0000-000000000702', 'Rendimento de ações', 'INCOME', '00000000-0000-0000-0000-000000000007', TRUE),
    ('00000000-0000-0000-0000-000000000703', 'Dividendos', 'INCOME', '00000000-0000-0000-0000-000000000007', TRUE),

    -- Impostos e taxas
    ('00000000-0000-0000-0000-000000000801', 'IPTU', 'EXPENSE', '00000000-0000-0000-0000-000000000008', TRUE),
    ('00000000-0000-0000-0000-000000000802', 'IPVA', 'EXPENSE', '00000000-0000-0000-0000-000000000008', TRUE),
    ('00000000-0000-0000-0000-000000000803', 'Taxas bancárias', 'EXPENSE', '00000000-0000-0000-0000-000000000008', TRUE),

    -- Renda
    ('00000000-0000-0000-0000-000000000901', 'Salário', 'INCOME', '00000000-0000-0000-0000-000000000009', TRUE),
    ('00000000-0000-0000-0000-000000000902', 'Freelance', 'INCOME', '00000000-0000-0000-0000-000000000009', TRUE),
    ('00000000-0000-0000-0000-000000000903', 'Outras rendas', 'INCOME', '00000000-0000-0000-0000-000000000009', TRUE),

    -- Outros
    ('00000000-0000-0000-0000-000000001001', 'Doações', 'EXPENSE', '00000000-0000-0000-0000-000000000010', TRUE),
    ('00000000-0000-0000-0000-000000001002', 'Presentes', 'EXPENSE', '00000000-0000-0000-0000-000000000010', TRUE)
ON CONFLICT (id) DO NOTHING;
